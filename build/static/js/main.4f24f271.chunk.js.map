{"version":3,"sources":["components/persons.js","components/personform.js","components/filter.js","services/services.js","App.js","index.js"],"names":["Persons","persons","filter","onclick","person","name","includes","map","number","onClick","id","PersonForm","addPerson","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","onChange","type","Filter","handleFilterChange","baseUrl","services","getAll","axios","get","then","response","data","create","newObject","post","deletePerson","delete","update","put","Notification","message","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","error","setError","useEffect","Services","initialPersons","event","console","log","target","preventDefault","personObj","existingPerson","find","undefined","returnedPerson","setTimeout","window","confirm","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f24f271.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({persons,filter, onclick}) => (\r\n  persons\r\n  .filter( person => person.name.includes(filter))\r\n  .map(person =>\r\n    <div key={person.id}>\r\n      <p>\r\n        {person.name} {person.number} {\" \"}\r\n        <button onClick={() => onclick(person.id)}>Delete</button>\r\n      </p>\r\n    </div>)\r\n)\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, handleNameChange, handleNumberChange, newName, newNumber}) => (\r\n\r\n  <form onSubmit={addPerson}>\r\n    <div>\r\n      name: \r\n      <input value={newName}\r\n      onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      number: \r\n      <input value={newNumber}\r\n      onChange={handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilterChange}) => (\r\n  <form>\r\n    <div>\r\n        filter shown with \r\n        <input value={filter}\r\n        onChange={handleFilterChange}\r\n        />\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default Filter","\r\nimport axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  \r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst services = { getAll, create, deletePerson, update }\r\n\r\nexport default services","\nimport React, { useState, useEffect } from 'react'\nimport Persons from './components/persons'\nimport PersonForm from './components/personform'\nimport Filter from './components/filter'\nimport Services from './services/services'\n\nconst Notification = ({ message, id }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div id={id}>\n      {message}\n    </div>\n  )\n}\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setNewFilter ] = useState('')\n  const [ message, setMessage] = useState(null)\n  const [ error, setError ] = useState(null)\n\n  useEffect(() => {\n    Services\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObj = {\n      name : newName,\n      number : newNumber\n    }\n\n    const existingPerson = persons.find(person => person.name === newName)\n\n    if (existingPerson !== undefined){\n      if(window.confirm(`${newName} is already added to phonebook,\n       replace the old number with a new one?`)){\n         Services\n          .update(existingPerson.id, personObj)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== existingPerson.id ? person : returnedPerson))\n          })\n          .then(() => {\n            setMessage(\n              `Changed ${existingPerson.name}'s number`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setError(`Information of ${existingPerson.name} has laready been removed from the server`)\n            setTimeout(() => {\n              setError(null)\n            }, 5000)\n          })\n       }\n      return\n    }\n\n    Services\n      .create(personObj)\n      .then(returnedPerson => {\n        setPersons(returnedPerson)\n        setNewName(\"\")\n        setNewNumber(\"\")\n      })\n      .then(() => {\n        setMessage(\n          `Added ${newName}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n  }\n\n  const deletePerson = (id) => {\n\n    const person = persons.find(person => person.id === id); \n\n    if(window.confirm(`Delete ${person.name}`)){\n      Services\n        .deletePerson(id)\n        .then(() => {\n          Services.getAll().then(\n            initialPersons => {\n              setPersons(initialPersons)\n            })\n        })\n        .then(() => {\n          setMessage(\n            `Deleted ${person.name}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification id={'msg'} message={message} />\n      <Notification id={'err'} message={error} />\n      <Filter filter={filter}\n      handleFilterChange={handleFilterChange} />\n\n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson}\n      handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange} \n      newName={newName}\n      newNumber={newNumber}/>\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} onclick={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App\n","\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}